<div class="flex items-center justify-center w-screen h-max">
  <div class="mt-8 w-96">
    <mat-card appearance="outlined" class="p-5">
      <h2 class="mb-4 text-lg text-center">
        Ingresar al panel de administrador
      </h2>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <mat-card-content class="space-y-4">
          <mat-form-field class="w-full" color="accent">
            <mat-label>Username</mat-label>
            <input
              matInput
              type="text"
              placeholder="admin123"
              formControlName="username"
              [errorStateMatcher]="matcher"
            />
            @if (loginForm.get("username")?.hasError("required")) {
            <mat-error>Username is required</mat-error>
            }
          </mat-form-field>
          <mat-form-field class="w-full" color="accent">
            <mat-label>Password</mat-label>
            <input
              [type]="hide ? 'password' : 'text'"
              matInput
              formControlName="password"
              [errorStateMatcher]="matcher"
            />
            <button mat-icon-button matSuffix (click)="hide = !hide" type="button">
              <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
            </button>
            @if (loginForm.get("password")?.hasError("required")) {
            <mat-error>Password is required</mat-error>
            }
          </mat-form-field>

          <div class="flex flex-col items-center justify-center w-full gap-4">
            <button
              mat-raised-button
              color="accent"
              type="submit"
              [disabled]="!isValidForm || showSpinner"
            >
              Log in
            </button>
            @if (showSpinner) {
            <mat-spinner diameter="30"></mat-spinner>
            }
          </div>
        </mat-card-content>
      </form>
    </mat-card>
  </div>
</div>
